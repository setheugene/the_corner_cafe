!function t(n,a,s){function d(i,e){if(!a[i]){if(!n[i]){var r="function"==typeof require&&require;if(!e&&r)return r(i,!0);if(l)return l(i,!0);throw new Error("Cannot find module '"+i+"'")}var o=a[i]={exports:{}};n[i][0].call(o.exports,function(e){var r=n[i][1][e];return d(r||e)},o,o.exports,t,n,a,s)}return a[i].exports}for(var l="function"==typeof require&&require,e=0;e<s.length;e++)d(s[e]);return d}({1:[function(e,r,i){"use strict";function d(e){var r,i=jQuery(e.element).closest("form"),o=i.find(".wpforms-submit"),t=0<e.loading,n=(r=i,function(){r.find(".wpforms-uploading-in-progress-alert").length||r.find(".wpforms-submit-container").before('<div class="wpforms-error-alert wpforms-uploading-in-progress-alert">'+window.wpforms_file_upload.loading_message+"</div>")});t?(o.prop("disabled",!0),i.find(".wpforms-submit-overlay").length||(o.parent().addClass("wpforms-submit-overlay-container"),o.parent().append('<div class="wpforms-submit-overlay"></div>'),i.find(".wpforms-submit-overlay").css("width",o.outerWidth()+"px"),i.find(".wpforms-submit-overlay").css("height",o.parent().outerHeight()+"px"),i.find(".wpforms-submit-overlay").on("click",n))):(o.prop("disabled",!1),i.find(".wpforms-submit-overlay").off("click",n),i.find(".wpforms-submit-overlay").remove(),o.parent().removeClass("wpforms-submit-overlay-container"),i.find(".wpforms-uploading-in-progress-alert").length&&i.find(".wpforms-uploading-in-progress-alert").remove())}function n(e){try{return JSON.parse(e)}catch(e){return!1}}function t(e){return 0<e.length}function a(e){return e}function s(e){return e.xhr}function l(e){return e.responseText}function f(e){return e.data}function p(e){var r,i,o=jQuery(e.element).parents(".wpforms-field-file-upload").find("input[name="+e.dataTransfer.name+"]");o.val((i=e.files,(r=i.map(s).filter(a).map(l).filter(t).map(n).filter(a).map(f)).length?JSON.stringify(r):"")).trigger("input"),void 0!==jQuery.fn.valid&&o.valid()}function u(e){setTimeout(function(){e.files.filter(function(e){return e.accepted}).length>=e.options.maxFiles?e.element.querySelector(".dz-message").classList.add("hide"):e.element.querySelector(".dz-message").classList.remove("hide")},0)}function m(r){return function(e){var i,o;i=e,o=r,setTimeout(function(){if(i.size>=o.dataTransfer.postMaxSize){var e=window.wpforms_file_upload.errors.post_max_size;i.isErrorNotUploadedDisplayed||(i.isErrorNotUploadedDisplayed=!0,e=window.wpforms_file_upload.errors.file_not_uploaded+" "+e);var r=document.createElement("span");r.innerText=e,r.setAttribute("data-dz-errormessage",""),i.previewElement.querySelector(".dz-error-message").appendChild(r)}},1),u(r)}}function c(t){return function(e){if(u(t),e.xhr){var r=n(e.xhr.responseText);r&&(i=r.data.file,o=t,wp.ajax.post({action:"wpforms_remove_file",file:i,form_id:o.dataTransfer.formId,field_id:o.dataTransfer.fieldId}))}var i,o;p(t)}}function o(e){var o,r,i=parseInt(e.dataset.formId,10),t=parseInt(e.dataset.fieldId,10)||0,n=parseInt(e.dataset.maxFileNumber,10),a=e.dataset.extensions.split(",").map(function(e){return"."+e}).join(","),s=new window.Dropzone(e,{url:window.wpforms_file_upload.url,addRemoveLinks:!0,maxFilesize:(parseInt(e.dataset.maxSize,10)/1e6).toFixed(2),maxFiles:n,acceptedFiles:a,dictMaxFilesExceeded:window.wpforms_file_upload.errors.file_limit.replace("{fileLimit}",n),dictInvalidFileType:window.wpforms_file_upload.errors.file_extension,dictFileTooBig:window.wpforms_file_upload.errors.file_size});return s.dataTransfer={name:e.dataset.inputName,postMaxSize:parseInt(e.dataset.postMaxSize,10),formId:i,fieldId:t},s.on("sending",(o={action:"wpforms_upload_file",form_id:i,field_id:t},function(e,r,i){if(e.size>this.dataTransfer.postMaxSize)return r.send=function(){},e.accepted=!1,e.processing=!1,e.status="rejected",e.previewElement.classList.add("dz-error"),void e.previewElement.classList.add("dz-complete");this.loading=this.loading||0,this.loading++,d(this),Object.keys(o).forEach(function(e){i.append(e,o[e])})})),s.on("addedfile",m(s)),s.on("removedfile",c(s)),s.on("complete",(r=s,function(){r.loading=r.loading||0,r.loading--,d(r),p(r)})),s.on("error",function(e,r){e.isErrorNotUploadedDisplayed||(e.isErrorNotUploadedDisplayed=!0,e.previewElement.querySelectorAll("[data-dz-errormessage]")[0].textContent=window.wpforms_file_upload.errors.file_not_uploaded+" "+r)}),s}function w(){window.wpforms=window.wpforms||{},window.wpforms.dropzones=[].slice.call(document.querySelectorAll(".wpforms-uploader")).map(o)}var v;(v={init:function(){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",w):w()}}).init(),window.wpformsModernFileUpload=v},{}]},{},[1]);