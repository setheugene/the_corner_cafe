"use strict";var WPFormsSettingsEducation=window.WPFormsSettingsEducation||function(n,i,o){var e={init:function(){o(n).ready(e.ready)},ready:function(){e.events()},events:function(){e.clickEvents()},clickEvents:function(){o(n).on("click",".wpforms-settings-provider.education-modal",function(n){var t=o(this);switch(n.preventDefault(),n.stopImmediatePropagation(),t.data("action")){case"activate":e.activateModal(t.data("name"),t.data("path"));break;case"install":e.installModal(t.data("name"),t.data("url"),t.data("license"));break;case"upgrade":e.upgradeModal(t.data("name"),"",t.data("license"));break;case"license":e.licenseModal()}})},activateModal:function(n,t){o.alert({title:!1,content:wpforms_admin.education_activate_prompt.replace(/%name%/g,n),icon:"fa fa-info-circle",type:"blue",buttons:{confirm:{text:wpforms_admin.education_activate_confirm,btnClass:"btn-confirm",keys:["enter"],action:function(){return this.$body.find(".btn-confirm").prop("disabled",!0).html('<i class="fa fa-circle-o-notch fa-spin fa-fw"></i> '+wpforms_admin.education_activating),e.activateAddon(t,wpforms_admin.nonce,this),!1}},cancel:{text:wpforms_admin.cancel}}})},activateAddon:function(n,t,a){o.post(wpforms_admin.ajax_url,{action:"wpforms_activate_addon",nonce:t,plugin:n},function(n){a.close(),n.success?e.saveModal():o.alert({title:!1,content:n.data,icon:"fa fa-exclamation-circle",type:"orange",buttons:{confirm:{text:wpforms_admin.close,btnClass:"btn-confirm",keys:["enter"]}}})})},saveModal:function(){o.alert({title:wpforms_admin.education_activated,content:wpforms_admin.education_save_prompt,icon:"fa fa-check-circle",type:"green",buttons:{confirm:{text:wpforms_admin.education_save_confirm,btnClass:"btn-confirm",keys:["enter"],action:function(){i.location=i.location}},cancel:{text:wpforms_admin.close}}})},installModal:function(n,t,a){t&&""!==t?o.alert({title:!1,content:wpforms_admin.education_install_prompt.replace(/%name%/g,n),icon:"fa fa-info-circle",type:"blue",boxWidth:"425px",buttons:{confirm:{text:wpforms_admin.education_install_confirm,btnClass:"btn-confirm",keys:["enter"],action:function(){return this.$body.find(".btn-confirm").prop("disabled",!0).html('<i class="fa fa-circle-o-notch fa-spin fa-fw"></i> '+wpforms_admin.education_installing),e.installAddon(t,wpforms_admin.nonce,this),!1}},cancel:{text:wpforms_admin.cancel}}}):e.upgradeModal(n,"",a)},installAddon:function(n,t,a){o.post(wpforms_admin.ajax_url,{action:"wpforms_install_addon",nonce:t,plugin:n},function(n){a.close(),n.success?e.saveModal():o.alert({title:!1,content:n.data,icon:"fa fa-exclamation-circle",type:"orange",buttons:{confirm:{text:wpforms_admin.close,btnClass:"btn-confirm",keys:["enter"]}}})})},upgradeModal:function(n,t,a){if(void 0!==a&&0!==a.length||(a="pro"),!(o.inArray(a,["pro","elite"])<0)){var e=n+" "+wpforms_admin.education_upgrade[a].title;t&&(e=t+" "+wpforms_admin.education_upgrade[a].title),o.alert({title:e,icon:"fa fa-lock",content:wpforms_admin.education_upgrade[a].message.replace(/%name%/g,n),boxWidth:"550px",onOpenBefore:function(){this.$body.find(".jconfirm-content").addClass("lite-upgrade")},buttons:{confirm:{text:wpforms_admin.education_upgrade[a].confirm,btnClass:"btn-confirm",keys:["enter"],action:function(){i.open(wpforms_admin.education_upgrade[a].url+"&utm_content="+encodeURI(n.trim()),"_blank")}}}})}},licenseModal:function(){o.alert({title:!1,content:wpforms_admin.education_license_prompt,icon:"fa fa-exclamation-circle",type:"orange",buttons:{confirm:{text:wpforms_admin.close,btnClass:"btn-confirm",keys:["enter"]}}})}};return e}(document,window,jQuery);WPFormsSettingsEducation.init();